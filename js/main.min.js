"use strict";

/* burger */
var burger = document.querySelector('.header__burger');
burger.addEventListener('click', function () {
  document.querySelector('.header__burger-span--one').classList.toggle('span-one--active');
  document.querySelector('.header__burger-span--two').classList.toggle('span-two--active');
  document.querySelector('.header__burger-span--three').classList.toggle('span-three--active');
  document.querySelector('.header__menu').classList.toggle('header__menu--active');
  document.querySelector('body').classList.toggle('no-scroll');
});
/* close menu */

var menuItems = document.querySelectorAll('.header__menu-item');
menuItems.forEach(function (element) {
  element.addEventListener('click', function () {
    document.querySelector('.header__menu').classList.remove('header__menu--active');
    document.querySelector('.header__burger-span--one').classList.remove('span-one--active');
    document.querySelector('.header__burger-span--two').classList.remove('span-two--active');
    document.querySelector('.header__burger-span--three').classList.remove('span-three--active');
    document.querySelector('body').classList.remove('no-scroll');
  });
});
"use strict";

/* offer slider */
var swiperOffer = new Swiper('.offer-slider', {
  loop: true,
  spaceBetween: 500,
  speed: 500,
  grabCursor: true,
  pagination: {
    el: '.swiper-pagination',
    clickable: true
  }
});
"use strict";

/* show popup */
showPopups();

function showPopups() {
  document.addEventListener('scroll', function () {
    var popups = document.querySelectorAll('.phone-popup');

    function showPopup() {
      popups.forEach(function (popup) {
        var windowCenter = window.innerHeight + window.scrollY;
        var scrollOffSet = popup.closest('section').offsetTop + popup.closest('section').offsetHeight;

        if (windowCenter >= scrollOffSet) {
          popup.classList.add('show-popup');
        } else {
          popup.classList.remove('show-popup');
        }
      });
    }

    showPopup();
  });
}

;
/* end of showPopups */
"use strict";

/* tabs */

/* tabs adaption */
window.addEventListener('load', tabsOverflow);
window.addEventListener('resize', tabsOverflow);

function tabsOverflow() {
  var outer = document.querySelector('.tabs-container');
  var inner = document.querySelector('.tabs');

  if (inner.offsetWidth > outer.offsetWidth) {
    inner.classList.add('overflow');
  } else {
    inner.classList.remove('overflow');
  }
}

;
/* tabs working */

var tabs = document.querySelectorAll('.tabs__item');
var targets = document.querySelectorAll('.menu__slider-block');
tabs.forEach(function (tab, tabIndex) {
  tab.addEventListener('click', function () {
    tabs.forEach(function (tab) {
      tab.classList.remove('active');
    });
    tab.classList.add('active');
    targets.forEach(function (target, targetIndex) {
      target.classList.remove('show');
      targetIndex = tabIndex;
      targets[targetIndex].classList.add('show');
    });
  });
});
/* tabs slider */

var swiperMenu = new Swiper('.menu__slider', {
  speed: 500,
  grabCursor: true,
  pagination: {
    el: '.swiper-pagination',
    clickable: true
  },
  slidesPerView: 1,
  grid: {
    rows: 1
  },
  breakpoints: {
    550: {
      slidesPerView: 2,
      grid: {
        rows: 1
      }
    },
    820: {
      slidesPerView: 3,
      grid: {
        rows: 1
      }
    },
    1000: {
      slidesPerView: 2,
      grid: {
        rows: 2
      }
    }
  }
});
"use strict";

/* team slider */
var swiperOffer = new Swiper('.team-slider', {
  loop: true,
  spaceBetween: 500,
  speed: 500,
  grabCursor: true,
  pagination: {
    el: '.swiper-pagination',
    clickable: true
  }
});
"use strict";

/*  change title  window on blur and focus*/
window.onblur = function () {
  document.querySelector('title').innerHTML = 'COME BACK!';
};

window.onfocus = function () {
  document.querySelector('title').innerHTML = 'GOLDEN AGGS';
};
"use strict";

/* validate forms */
validateOrderForm();

function validateOrderForm() {
  var orderForm = document.querySelector('#order-form');
  var inputName = document.querySelector('.input-name');
  var formInputs = document.querySelectorAll('.order__input');
  var inputEmail = document.querySelector('.input-email');
  var inputPhone = document.querySelector('.input-phone');
  var selects = document.querySelectorAll('.order__select');

  function validateEmail(email) {
    var regexp = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return regexp.test(String(email).toLowerCase());
  }

  function validatePhone(phone) {
    var regexp = /^[+0-9\s]*$/;
    return regexp.test(String(phone));
  }

  function validateName(name) {
    var regexp = /^[a-zA-Z\s]+$/;
    return regexp.test(String(name));
  }

  orderForm.onsubmit = function () {
    var nameVal = inputName.value;
    var emailVal = inputEmail.value;
    var phoneVal = inputPhone.value;
    var emptyInputs = Array.from(formInputs).filter(function (input) {
      return input.value === '';
    });
    var emptyselects = Array.from(selects).filter(function (select) {
      return select.value === '';
    });
    formInputs.forEach(function (input) {
      if (input.value === '') {
        input.classList.add('error');
      } else {
        input.classList.remove('error');
      }
    });
    selects.forEach(function (select) {
      if (select.value === '') {
        select.classList.add('select-error');
      } else {
        select.classList.remove('select-error');
      }
    });

    if (emptyInputs.length !== 0) {
      console.log('inputs not filled');
      return false;
    }

    if (emptyselects.length !== 0) {
      console.log('selects not filled');
      return false;
    }

    if (!validateEmail(emailVal)) {
      console.log('email not valid');
      inputEmail.classList.add('error');
      return false;
    } else {
      inputEmail.classList.remove('error');
    }

    if (!validatePhone(phoneVal)) {
      inputPhone.classList.add('error');
      return false;
    } else {
      inputPhone.classList.remove('error');
    }

    if (!validateName(nameVal)) {
      inputName.classList.add('error');
      return false;
    } else {
      inputName.classList.remove('error');
    }

    alert('Send the order');
  };

  inputName.oninput = function () {
    var regex1 = /[0-9]/g;
    inputName.value = inputName.value.replace(regex1, '');
  };

  inputPhone.oninput = function () {
    var regex1 = /[A-Za-z]/g;
    inputPhone.value = inputPhone.value.replace(regex1, '');
  };
}

validateContactsForm();

function validateContactsForm() {
  var contactsForm = document.querySelector('#contacts-form');
  var formInputs = document.querySelectorAll('.contacts__form-input');
  var inputName = document.querySelector('.contacts-name');
  var inputEmail = document.querySelector('.contacts-email');
  var inputPhone = document.querySelector('.contacts-tel');

  function validateEmail(email) {
    var regexp = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return regexp.test(String(email).toLowerCase());
  }

  function validatePhone(phone) {
    var regexp = /^[+0-9\s]*$/;
    return regexp.test(String(phone));
  }

  function validateName(name) {
    var regexp = /^[a-zA-Z\s]+$/;
    return regexp.test(String(name));
  }

  contactsForm.onsubmit = function (e) {
    var nameVal = inputName.value;
    var emailVal = inputEmail.value;
    var phoneVal = inputPhone.value;
    var emptyInputs = Array.from(formInputs).filter(function (input) {
      return input.value === '';
    });
    formInputs.forEach(function (input) {
      if (input.value === '') {
        input.classList.add('error'); // return false
      } else {
        input.classList.remove('error');
      }
    });

    if (emptyInputs.length !== 0) {
      return false;
    }

    if (!validateEmail(emailVal)) {
      inputEmail.classList.add('error');
      return false;
    } else {
      inputEmail.classList.remove('error');
    }

    if (!validatePhone(phoneVal)) {
      inputPhone.classList.add('error');
      return false;
    } else {
      inputPhone.classList.remove('error');
    }

    if (!validateName(nameVal)) {
      inputName.classList.add('error');
      return false;
    } else {
      inputName.classList.remove('error');
    }

    alert('Send the mesage');
  };

  inputName.oninput = function () {
    var regex1 = /[0-9]/g;
    inputName.value = inputName.value.replace(regex1, '');
  };

  inputPhone.oninput = function () {
    var regex1 = /[A-Za-z]/g;
    inputPhone.value = inputPhone.value.replace(regex1, '');
  };
}
//# sourceMappingURL=main.min.js.map
